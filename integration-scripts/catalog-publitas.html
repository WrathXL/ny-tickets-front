<!-- Externals scripts -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
  crossorigin="anonymous"
></script>

<!-- Integration script -->
<script>
  window.viewerReady = function (api, platform) {
    // Initializations

    // * Add bootstrap css
    document.body.insertAdjacentHTML(
      "beforeend",
      '<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">'
    );

    // * Add cart modal
    const div = document.createElement("div");
    div.classList.add("modal");
    div.classList.add("fade");
    div.setAttribute("id", "modal");
    div.setAttribute("tabindex", "-1");
    div.setAttribute("aria-labelledby", "modalLabel");
    div.setAttribute("aria-hidden", "true");

    div.innerHTML = `
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="modalLabel">Your cart items</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <ul>
                <li>Coffee</li>
                <li>Tea</li>
                <li>Milk</li>
              </ul>
            </div>
        </div>
      </div>
        `;

    document.body.appendChild(div);

    // Viewer API

    // * Add cart button
    api.setCartButtonAction(function () {
      const modal = new bootstrap.Modal("#modal");
      modal.show();
    }, "See cart items");
  };
</script>
